---
import LinkButton from "../../components/IconLink";
import config from "config";

const { contacts: links, description } = config.hero;
const DESCRIPTIONS = [
  "With curiosity, I explore tech;",
  "with empathy, I build value.",
];

if (process.env.NODE_ENV === "development") {
  const assert = (condition: boolean, message: string) => {
    if (!condition) {
      throw new Error(message);
    }
  };
  assert(
    config.description === DESCRIPTIONS.join(" "),
    "Description mismatch with config one",
  );
}
---

<div class="flex flex-col gap-5 my-5">
  <div
    class="flex flex-col-reverse gap-5 md:flex-row justify-between md:mb-2.5"
  >
    <div class="mt-auto">
      <h1 class="text-3xl font-bold">{config.title}</h1>
      <p class="text-sm text-zinc-400 mt-1">
        {
          DESCRIPTIONS.map((desc, index) => (
            <>
              <span>{desc.charAt(0).toUpperCase() + desc.slice(1)}</span>
              {index === 0 ? <br /> : null}
            </>
          ))
        }
      </p>
    </div>
    <picture>
      <source srcset="/avatar.avif" type="image/avif" />
      <source srcset="/avatar.webp" type="image/webp" />
      <img
        src="/avatar.png"
        alt="Avatar"
        class="w-24 h-24 rounded-full aspect-square"
      />
    </picture>
  </div>
  <div>
    {
      Array.isArray(description) ? (
        description.map((desc) => <p class="my-2.5">{desc}</p>)
      ) : (
        <p class="my-2.5">{description}</p>
      )
    }
  </div>
  <div>
    <div class="flex gap-4 flex-row">
      {
        links.map((link) => (
          <div>
            <LinkButton
              icon={link.icon}
              link={link.link}
              name={link.name}
              hideText={true}
              size="lg"
            />
          </div>
        ))
      }
    </div>
  </div>
</div>
